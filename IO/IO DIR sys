# 文件目录系统
QAQ
目录是什么？
如何知道文件所在的目录？
从一个目录转到另一个目录意味着什么？
pwd 如何知道当前所处的位置？

*文件内容（数据区）
*文件属性（i节点表）
*目录
(目录时一种包含了文件名字列表的特殊文件。
它们的抽象模型总是一致的——一个包含i-节点号和文件名的表。)
ls -1ia
可以使用 ls -i 查看任意文件的 i-节点号

（superblock 存储文件系统本身的信息）
记录了每个区域的大小
未使用的磁盘块的信息

***当创建一个文件时，发生了什么？
文件有内容和属性，内核将文件内容存放在数据区，文件属性存放在i-节点，文件名存放在目录。

***当读取一个文件时又发生了什么？
cat 命令的工作原理
所有从文件读取数据的命令，如cat， cp， more， who等，都是将文件名传给open来
访问文件内容。
对open的每次调用都是先在目录中寻找文件名，然后根据目录中的i-节点号获得文件的属性，
最终找到文件的内容。

现在可以想象一下在open一个没有读或写权限的文件时将发生什么情况。
内核首先根据文件名找到i-节点号，然后找到i-节点。在i-节点中，内核
找到文件的权限位和拥有者的用户ID。
如果权限位设置你的用户ID对文件没有访权限，则open返回-1，并且将全局变量
errno的值设为EPERM。
